<!DOCTYPE html>
<html lang="en-US">
{% load static %}

<!-- Mirrored from nilethemes.com/html/tabib/dashboard-home.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 06 Mar 2020 16:38:03 GMT -->
<head>
    {% if p %}
        <script>
            alert('Its not time yet :( !, If there is anything urgent please try to call an ambulance.');
        </script>
    {% endif %}

    <title>PDOC | Patient Corner</title>
    <meta name="author" content="Nile-Theme">
    <meta name="robots" content="index follow">
    <meta name="googlebot" content="index follow">
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="keywords" content="directory, doctor, doctor directory, Health directory, listing, map, medical, medical directory, professional directory, reservation, reviews">
    <meta name="description" content="Health Care & Medical Services Directory">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- google fonts -->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,600,800%7CPoppins:300i,300,400,700,400i,500%7CDancing+Script:700%7CDancing+Script:700" rel="stylesheet">
    <!-- animate -->
    <link rel="stylesheet" href="{% static 'css/animate.css' %}"/>
    <!-- owl Carousel assets -->
    <link href="{% static 'css/owl.carousel.css" rel="stylesheet' %}">
    <link href="{% static 'css/owl.theme.css" rel="stylesheet' %}">
    <!-- bootstrap -->
    <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}">
    <!-- hover anmation -->
    <link rel="stylesheet" href="{% static 'css/hover-min.css' %}">
    <!-- flag icon -->
    <link rel="stylesheet" href="{% static 'css/flag-icon.min.css' %}">
    <!-- main style -->
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    <!-- colors -->
    <link rel="stylesheet" href="{% static 'css/colors/main.css' %}">
    <!-- elegant icon -->
    <link rel="stylesheet" href="{% static 'css/elegant_icon.css' %}">
    <!-- admin style -->
    <link rel="stylesheet" href="{% static 'css/sb-admin.css' %}">
    <!-- jquery library  -->
    <script src="{% static 'js/jquery-3.2.1.min.js' %}"></script>
    <!-- fontawesome  -->
    <script defer src="https://use.fontawesome.com/releases/v5.0.6/js/all.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/connectycube@x.x.x/dist/connectycube.min.js"></script>

</head>

<body>

    {% include 'navigation.html' %}
    <!-- // Header  -->


    <!-- Navigation-->

        <div class="container-fluid overflow-hidden">
            {% for appointment in scheduled_appointments %}
                <div class="card p-3" >
                    <center>Valid for 30 Days since - <b>{{appointment.datetime}}</b> with Dr. {{appointment.doctor__name}} ({{appointment.doctor__type__name}} at {{appointment.doctor__hospital}})</center>
                    {% if appointment.status == "1" %}
                        <a href="{% url 'video_calling' slug=appointment.slug %}"><button class="btn btn-primary btn-block mt-auto">Start</button></a>
                    {% else %}
                        <button class="btn btn-primary btn-block mt-auto" data-appointment="{{appointment.slug}}" id="re-request">Request another appointment</button>
                    {% endif %}
                </div>
                {% endfor %}
            {% if status %}
            <div class="card p-3">
                <p>Your account is not activated yet. Please Contact - 8249619206 for understanding the issue.</p>
            </div>
            {% endif %}
            <div class="row margin-tb-90px margin-lr-10px sm-mrl-0px">
                <div class="col-xl-3 col-md-6 margin-bottom-30px" id="tele-consultancy">
                    <a class="d-block padding-30px background-main-color box-shadow border-radius-10 hvr-float">
                        <h6 class="text-white margin-0px font-weight-400">
                            <i class="fas fa-phone text-icon-large margin-bottom-10px opacity-5 d-block"></i>
                            <span class="font-2 text-extra-large" id="tele-length">{{tdoctor}}</span>
                            <span class="margin-left-10px">Tele Consultancy</span>
                        </h6>
                    </a>
                </div>

                <div class="col-xl-3 col-md-6 margin-bottom-30px" id="video-consultancy">
                    <a class="d-block padding-30px background-lime box-shadow border-radius-10 hvr-float">
                        <h6 class="text-white margin-0px font-weight-400">
                            <i class="fas fa-video text-icon-large margin-bottom-10px opacity-5 d-block"></i>
                            <span class="font-2 text-extra-large">{{vdoctor}}</span>
                            <span class="margin-left-10px">Video Consultancy</span>
                        </h6>
                    </a>
                </div>

                <div class="col-xl-3 col-md-6 margin-bottom-30px" id="paramedic-consultancy">
                    <a class="d-block padding-30px background-red box-shadow border-radius-10 hvr-float">
                        <h6 class="text-white margin-0px font-weight-400">
                            <i class="fas fa-folder text-icon-large margin-bottom-10px opacity-5 d-block"></i>
                            <span class="font-2 text-extra-large">{{pmconsultancy}}</span>
                            <span class="margin-left-10px">Paramedical Consultancy</span>
                        </h6>
                    </a>
                </div>

                <div class="col-xl-3 col-md-6 margin-bottom-30px" id="medical-records">
                    <a class="d-block padding-30px background-blue box-shadow border-radius-10 hvr-float">
                        <h6 class="text-white margin-0px font-weight-400">
                            <i class="fas fa-folder text-icon-large margin-bottom-10px opacity-5 d-block"></i>
                            <span class="font-2 text-extra-large">{{cprescription}}</span>
                            <span class="margin-left-10px">Medical Records</span>
                        </h6>
                    </a>
                </div>
        <div class="col-12">
            <div class="files" style="display:none;">
                <div class="row">
                    <div class="col-lg-12 margin-bottom-30px" >
                        <button class="btn btn-primary" style="width:100%;"> <i class="fas fa-plus"></i> New Folder</button>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-12">
                        <div class="col-lg-3 col-sm-2">
                            <div class="margin-bottom-30px">
                                <div class="padding-30px background-white border-radius-20 box-shadow">
                                    <h3><i class="fa fa-folder margin-right-10px text-main-color"></i></h3>
                                    <hr>
                                    <h6>Folder</h6>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-12">
                        <div class="margin-bottom-30px">
                            <div class="padding-30px background-white border-radius-20 box-shadow">
                                <span class="back"><h3><i class="fas fa-angle-left margin-right-10px text-main-color"></i> Back </h3></span>
                                <h3><i class="fas fa-file margin-right-10px text-main-color"></i> Prescriptions </h3>
                                <hr>
                                <div class="col-lg-2 col-sm-2">
                                    <div class="row">
                                    {% for prescription in prescriptions %}
                                    <a class="margin-bottom-30px" href="{% url 'create_prescription_document' prescription=prescription.slug %}">
                                        <div class="padding-30px background-white border-radius-20 box-shadow">
                                            <h3><i class="fas fa-file margin-right-10px text-main-color"></i></h3>
                                            <hr>
                                            <h6>Prescription id - {{prescription.id}}</h6>
                                            <h6>Appointment Booking Date - {{prescription.datetime}}</h6>
                                        </div>
                                    </a>
                                    {% endfor %}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-12">
                        <div class="margin-bottom-30px">
                            <div class="padding-30px background-white border-radius-20 box-shadow">
                                <span class="back"><h3><i class="fas fa-angle-left margin-right-10px text-main-color"></i> Back </h3></span>
                                <h3><i class="fas fa-file margin-right-10px text-main-color"></i> Files </h3>
                                <hr>
                                <div class="col-lg-2 col-sm-2">
                                    <div class="margin-bottom-30px">
                                        <div class="padding-30px background-white border-radius-20 box-shadow">
                                            <h3><i class="fas fa-file margin-right-10px text-main-color"></i></h3>
                                            <hr>
                                            <h6>File Name</h6>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
          </div>  </div>
            <div class="video-doctors" style="display:none;">
                <p>Filter by :
                <button type="button" data-type="all" class="btn btn-default btn-xs btn-tag doctor-filter-type mt-2">All</button>
                {% for type in doctor_types %}
                  <button type="button" data-type="{{type.id}}" class="btn btn-primary btn-xs btn-tag doctor-filter-type mt-2">{{type}}</button>
              {% endfor %}
                </p>
                <div class="row">
                    <div class="video-results">
<!--                Doctors-->
                    </div>
                </div>
            </div>
            <div class="tele-doctors" >
                <p>Filter by:
      <button type="button" data-type="all" class="btn btn-default btn-xs btn-tag doctor-filter-type">All</button>
      {% for type in doctor_types %}
          <button type="button" data-type="{{type.id}}" class="btn btn-primary btn-xs btn-tag doctor-filter-type mt-2">{{type}}</button>
      {% endfor %}
      <script>
          $(".doctor-filter-type").on('click',function(){
                 id = $(this).attr('data-type');
                fetch(id,'telecall');
                fetch(id,'videocall');
                $(".doctor-filter-type").addClass("btn-primary");
                $(this).removeClass('btn-primary');
                $(".doctor-filter-type").addClass("btn-default");

          });
      </script>
      </p>
                <div class="row">
                    <div class="results">
<!--                        //doctors-->
                    </div>
                </div>
            </div>
           <div class="paramedic-doctors" style="display:none;">
                <p>Filter by:
      <button type="button" data-type="all" class="btn btn-default btn-xs btn-tag paramedic-filter-type">All</button>
      {% for type in paramedic_types %}
          <button type="button" data-type="{{type.id}}" class="btn btn-primary btn-xs btn-tag paramedic-filter-type mt-2">{{type}}</button>
      {% endfor %}
       <script>
          $(".paramedic-filter-type").on('click',function(){
                 id = $(this).attr('data-type');
                paramedic_fetch(id);
                $(".paramedic-filter-type").addClass("btn-primary");
                $(this).removeClass('btn-primary');
                $(".doctor-filter-type").addClass("btn-default");

          });
      </script>
      </p>
                <div class="row">
                    <div class="paramedic-results">
<!--                        //doctors-->
                    </div>
                </div>
            </div>
                </div>
            </div>


        </div>
        <!-- /.container-fluid-->
        <!-- /.content-wrapper-->
        <!-- Scroll to Top Button-->
        <a class="scroll-to-top rounded" href="#page-top">
          <i class="fa fa-angle-up"></i>
        </a>
        <!-- Logout Modal-->


    <script src="{% static 'js/sticky-sidebar.js' %}"></script>
    <script src="{% static 'js/YouTubePopUp.jquery.js' %}"></script>
    <script src="{% static 'js/owl.carousel.min.js' %}"></script>
    <script src="{% static 'js/imagesloaded.min.js' %}"></script>
    <script src="{% static 'js/wow.min.js' %}"></script>
    <script src="{% static 'js/custom.js' %}"></script>
    <script src="{% static 'js/popper.min.js' %}"></script>
    <script src="{% static 'js/bootstrap.min.js' %}"></script>

        {% include 'footer.html' %}
    <script>
        $("#video-consultancy").on('click',function(){
            $(".files").css('display','none');
            $(".video-doctors").css('display','block');
            $(".tele-doctors").css('display','none');
        });
        $("#medical-records").on('click',function(){
            $(".files").css('display','block');
            $(".video-doctors").css('display','none');
            $(".tele-doctors").css('display','none');
            $(".paramedic-doctors").css('display','none');
        });
        $("#tele-consultancy").on('click',function(){
            $(".files").css('display','none');
            $(".video-doctors").css('display','none');
            $(".tele-doctors").css('display','block');
            $(".paramedic-doctors").css('display','none');
        });
        $("#paramedic-consultancy").on('click',function(){
            $(".files").css('display','none');
            $(".video-doctors").css('display','none');
            $(".tele-doctors").css('display','none');
            $(".paramedic-doctors").css('display','block');
        });
        $(".request-video").on('click',function(){
            doctor = $(this).attr("id");
            $.ajax({
                url: "{% url 'request_video_calling' %}",
                data : {
                    'doctor':doctor,
                },
                type: 'GET',
                dataType: 'json',
                success: function(res) {
                    console.log(res);
                }
          });
        });
    </script>
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-scrollable" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">Terms & Conditions</h5>
                        <button class="close" type="button" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">Ã—</span>
                </button>
                    </div>
                    <div class="modal-body" style="overflow-y:hidden;">
                        <div class="form">
                            <input class="form-control form-group" id="name" type="text" placeholder="Patient name" required>
                            <input class="form-control form-group" id="phone" type="text" placeholder="Patient phone" required>
                            <textarea class="form-control" type="text" id="query" placeholder="Describe your problem in short" required></textarea>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <h7>Continuing to call will mean that you accept our <a href="{% url 'terms' %}" style="text-decoration:underline;color:blue;">Terms & Conditions</a></h7>
                        <button class="btn btn-secondary" type="button" data-dismiss="modal">Cancel</button>
                        <a class="btn btn-primary" id="call-now" style="color:white;">Submit</a>
                    </div>
                </div>
            </div>
        </div>
</body>

<script>
    function fetch(doctor_type,service_type){
        $.ajax({
        url: "{% url 'doctors_cat'  %}",
        data : {
            'category':doctor_type,
            'type':service_type
        },
        type: 'GET',
        dataType: 'json',
        success: function(res) {
            console.log(res);
            if(service_type=="telecall")
            {
                result = $(".results");
            }
            else if(service_type=="videocall")
            {
                result = $(".video-results");
            }
            result.empty();
            for(i=0;i<res.length;i++){

            temp = '<div class="col-lg-6 col-md-6 hvr-bob margin-bottom-45px"> \
                            <div class="background-white box-shadow"> \
                                <div class="padding-30px"> \
                                    <h5 class="margin-tb-15px"><a class="text-dark" href="#">'+res[i].name+'</a></h5> \
                                    <span class="text-grey-3"><b>'+res[i].type_id__name+'</b></span><br> \
                                    <span class="text-black-6" style="font-weight:bold;">'+res[i].designation+'</span><br> \
                                    <span class="text-grey-4">'+res[i].hospital+'</span> \
                                    <span class="text-grey-6">'+res[i].address+'</span> \
                                    <span class="text-grey-6"> <br><b>Regular Days : </b>'+res[i].available_from+' - '+res[i].available_to+'</span>'
            if(res[i].special_day!=null)
                {
                    temp = temp + '<br><span class="text-grey-6"><b>'+res[i].special_day+'</b></span><span class="text-grey-6"> : '+res[i].special_from+' - '+res[i].special_to+'</span>';
                }
                temp = temp + '<br><span class="text-grey-6"><b>Fees : '+res[i].fees+'</span>';
            temp = temp + '</div> \
                                <div class="m-3" style="color:#007bff"><i class="fa fa-phone" aria-hidden="true"></i></div>'
                            if(service_type=="telecall"){
                                temp = temp+'<div doctor-id="'+res[i].id+'" data-type="1" class="btn btn-primary schedule-call" style="width:100%;border-radius:0px;">Schedule Call</div></a>\
                                </div> \
                            </div>'
                            }
                            else if (service_type="videocall")
                            {
                              temp = temp+'<div doctor-id="'+res[i].id+'" data-type="2" class="btn btn-primary schedule-call" style="width:100%;border-radius:0px;">Schedule Video Call</div></a>\
                                </div> \
                            </div>'
                            }
                            else {
                                temp = temp;
                            }
            result.append(temp);
            }

        }
    });
    }
    $(document).ready(function(){
        fetch('all','telecall');
        fetch('all','videocall');
        paramedic_fetch('all');
    });
    $(document).on('click', '.schedule-call', function(){
            doctor = $(this).attr("doctor-id");
            type = $(this).attr("data-type");
            $("#call-now").attr("doctor",doctor);
            $("#call-now").attr("data-type",type);
            $('#exampleModal').modal('toggle');
    });
</script>
<script>
    function paramedic_fetch(type){
        $.ajax({
        url: "{% url 'paramedics_cat'  %}",
        data : {
            'category':type,
        },
        type: 'GET',
        dataType: 'json',
        success: function(res) {
            console.log('paramedics');
            console.log(res);
            $(".paramedic-results").empty();
            for(i=0;i<res.length;i++){
            temp = '<div class="col-lg-6 col-md-6 hvr-bob margin-bottom-45px"> \
    <div class="background-white box-shadow"> \
        <div class="padding-30px"> \
            <h5 class="margin-tb-15px"><a class="text-dark" href="#">'+res[i].name+'</a></h5> \
            <span class="text-grey-3"><b>'+res[i].type_id__name+'</b></span><br>'
            if(res[i].available_from!=null)
            {
                temp = temp + '<span class="text-grey-6"><b>('+res[i].available_from+' - '+res[i].available_to+' )</b></span><br>'
            }
            if(res[i].organization!=null)
            {
                temp = temp + '<span class="text-grey-6">'+res[i].organization+'</span><br>'
            }
            if(res[i].qualifications!=null)
            {
                temp = temp + '<span class="text-grey-3">'+res[i].qualifications+'</span><br>'
            }
            if(res[i].achievements!=null)
            {
                temp = temp + 'Achievements : <span class="text-grey-2">'+res[i].achievements+'</span><br>'
            }
            if(res[i].address!=null)
            {
                temp = temp + '<span class="text-grey-1">'+res[i].address+'</span><br>'
            }
                  temp = temp+'</div> \
                    <div class="m-3" style="color:#007bff"><i class="fa fa-video-camera" aria-hidden="true"></i><i class="fa fa-phone" aria-hidden="true"></i></div> \
                     <div paramedic-id="'+res[i].id+'" class="btn btn-primary offline" style="width:100%;border-radius:0px;">Schedule Call</div></a>\
                </div> \
            </div>'

            $(".paramedic-results").append(temp);
            }

        }
    });
    }
</script>
<script>
    $(document).on('click', '.offline', function(){
        alert('This Service Will Soon Be Online !!');
    });
    $(document).on('click', '#call-now', function(){
            doctor= $(this).attr("doctor");
            name = $("#name").val();
            phone = $("#phone").val();
            query = $("textarea#query").val();
            type = $(this).attr("data-type");
            $.ajax({
        url: "{% url 'book_appointment'  %}",
        data : {
            'doctor':doctor,
            'name':name,
            'phone':phone,
            'query':query,
            'type':type,
        },
        type: 'GET',
        dataType: 'json',
        success: function(res) {
            if(res){
                window.location="https://www.pdochealth.com/payment-booking?order_id="+res.order_id.id;
            }
            else{
                alert("Please create an account first.");
                window.location = "/signup/";
            }
        }
    });

});
</script>
 <script>
    $("#re-request").click(function(){
        appointment = $(this).attr('data-appointment');
        console.log(appointment);
        $.ajax({
            url: "{% url 're_request' %}",
            data : {
                'appointment':appointment,
            },
            type: 'GET',
            dataType: 'json',
            success: function(res) {
                $("#re-request").remove();
                alert('Our team will shortly contact you.');
            }
      });
    });
</script>
<!-- Mirrored from nilethemes.com/html/tabib/dashboard-home.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 06 Mar 2020 16:38:05 GMT -->
</html>
