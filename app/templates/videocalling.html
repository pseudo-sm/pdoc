<!doctype html>
<html lang="en">

<head>
  {% load static %}
  <script src='https://cdn.scaledrone.com/scaledrone.min.js'></script>
  <title>Title</title>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"
    integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous" />
  <style>
    .vc-body {
      background-color: rgb(0, 0, 0);
    }

    #vd-head {
      position: relative;
      background: url("{% static 'connecting.png' %}");
      background-position: center;
      background-size: contain;
      height: 100vh;
      width: 100%;
      overflow: hidden;
      object-fit: contain;
      object-position: center;
    }

    #vd-head .video-remote {
      position: absolute;
      top: 50%;
      left: 50%;
      min-width: auto;
      min-height: 100%;
      width: auto;
      height: auto;
      z-index: 0;
      transform:  translateX(-50%) translateY(-50%);
      -webkit-transform: translateX(-50%) translateY(-50%); /* Safari and Chrome */
      -moz-transform: translateX(-50%) translateY(-50%);
      /* -webkit-transform: translateX(-50%) translateY(-50%); */
      /* transform: translateX(-50%) translateY(-50%); */
    }

    #vd-head .container {
      position: relative;
      z-index: 2;
      background-color: transparent;
    }

    #vd-head .overlay {
      position: absolute;
      top: 0;
      left: 0;
      height: 100%;
      width: 100%;
      z-index: 1;
      background-color: transparent;
    }

    @media (pointer: coarse) and (hover: none) {
      #vd-head {
        background: url("{% static 'connecting.png' %}") transparent no-repeat center center scroll;
        object-position: center;
        object-fit: contain;
        background-position: center;
      background-size: contain;
      }

      #vd-head video {
        display: none;
      }
    }

    .vc-buttons {
      position: absolute;
      bottom: 10%;
      left: 0;
      right: 0;
    }

    .min-btn {
      width: 60px;
      height: 60px;
      color: white;
      background-color: #26ABDE;
      margin: 10px;
      border: none;
      border-radius: 50%;
      padding: 10px;
      font-size: 1.5rem;
      outline: none;
    }

    .min-btn:focus,
    .min-btn-red:focus {
      outline: none;
    }

    .min-btn-red {
      width: 60px;
      height: 60px;
      color: white;
      background-color: #de2626;
      margin: 10px;
      border: none;
      border-radius: 50%;
      padding: 10px;
      font-size: 1.5rem;
    }

    .min-btn-red:hover,
    .min-btn:hover {
      cursor: pointer;
      box-shadow: 0px 0px 20px rgba(0, 0, 0, 0.5);
      -webkit-transform: scale(1.1);
      transform: scale(1.1);
    }

    .drag-area {
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
      touch-action: none;
      z-index: 999 !important;
      background-color: transparent;
    }

    .video-local {
      width: 20%;
      background-image: url("{% static 'connecting.png' %}");
      object-fit: contain;
      object-position: center;
      border: 5px solid #26aadef3;
      border-radius: 15px;
      touch-action: none;
      user-select: none;
      margin: 3%;
      transform: rotateY(180deg);
      -webkit-transform:rotateY(180deg); /* Safari and Chrome */
      -moz-transform:rotateY(180deg);
    }

    .video-local:hover {
      cursor: move;
      box-shadow: 0px 0px 20px rgba(0, 0, 0, 0.5);
      -webkit-transform: scale(1.1) rotateY(180deg);
      transform: scale(1.1) rotateY(180deg);
    }

    #prescribe {
      display: none;
      position: absolute;
      z-index: 1019;
      background-color: #f1f1f1;
      text-align: center;
      border: 1px solid #d3d3d3;
      float: right !important;
      top:1%;
      width: 40%;
      border-radius: 10px;
    }
    #prescribe-patient {
      display: none;
      position: absolute;
      z-index: 1019;
      background-color: #f1f1f1;
      text-align: center;
      border: 1px solid #d3d3d3;
      float: right !important;
      top:1%;
      width: 40%;
      border-radius: 10px;
    }

    #prescribeheader {
      padding: 10px;
      cursor: move;
      z-index: 1029;
      background-color: #cccccc6c;
      color: rgb(0, 0, 0);
    }

    #prescribeheader-patient {
      padding: 10px;
      cursor: move;
      z-index: 1029;
      background-color: #cccccc6c;
      color: rgb(0, 0, 0);
    }
    .tinyarea{
      width: 100%;
      border:0px
    }
    .pres-close-patient{
      border: none;
      float: right;
      color: #de2626;
      background-color: transparent;
    }
    .pres-close{
      border: none;
      float: right;
      color: #de2626;
      background-color: transparent;
    }
    .med-repo{
      max-height: 300px;
      overflow-y: auto;
    }

    @media only screen and (max-width: 600px) {
      .video-local {
        width: 30%;
        border: 2px solid rgba(136, 136, 136, .5);
        border-radius: 5px;
      }
      #prescribe{
        width: 100% !important;
        align-self: right;
        top: 0%;
      }
      #prescribe-patient{
        width: 100% !important;
        align-self: right;
        top: 0%;
      }
      .d-sm-none{
        display: none;
      }
      .med-repo{
      max-height: 250px;
      overflow-y: auto;
    }
    }

  </style>
</head>

<body class="vc-body">
  <div class="container-fluid vc-cont p-0">
    <div class="row no-gutters">
      <header id="vd-head">
        <div class="overlay"></div>
        <video id="remoteVideo" class="video-remote" playsinline="playsinline" autoplay="autoplay"
          loop="loop">
          <source src="{% static 'connecting.png' %}" type="video/mp4">
        </video>
        <div class="container-fluid h-100 p-0">
          <!-- Buttons -->
          <div class="row vc-buttons" style="z-index: 100;">
            <div class="col-12 text-center mx-auto">
              <button id="mute" class="min-btn" data-toggle="tooltip" data-placement="top" title="Mute/Unmute"><i
                  class="fa fa-microphone-slash"></i></button>
              <button id="video-off" class="min-btn" data-toggle="tooltip" data-placement="top" title="Video On/Off"><i
                  class="fa fa-pause"></i></button>
              {% if doctor %}
              <button id="presc-btn" class="min-btn" data-toggle="tooltip" data-placement="top" title="Prescribe"><i
                  class="fa fa-pencil-square-o"></i></button>
              {% endif %}
              {% if doctor != True %}
              <button id="presc-btn-patient" class="min-btn" data-toggle="tooltip" data-placement="top" title="My Prescription"><i
                class="fa fa-book"></i></button>
              {% endif %}
              <button id="end" class="min-btn-red " data-toggle="tooltip" data-placement="top" title="End"><i
                  class="fa fa-stop"></i></button>
            </div>
          </div>

          <div class="d-flex h-100 text-center align-items-right" style="z-index: 99;">
            <div id="drag-area" class="w-100" style="z-index: 99;">
              <!-- Local Video -->
              <video id="localVideo" class="video-local" playsinline="playsinline" autoplay="autoplay"
                loop="loop">
                <source src="{% static 'connecting.png' %}" type="video/mp4">
              </video>
              <!--Experiment-->
              {% if doctor != True %}
              <div id="prescribe-patient">
                <div id="prescribeheader-patient">My Prescription<button class="pres-close-patient"><i class="fa fa-times" aria-hidden="true"></i></button></div>
                <div class="container-fluid pt-2 pb-3 med-add">
                  <div class="row no-gutters text-left">
                    <div class="col-6 mx-auto my-auto">
                      <h1>PDOC</h1>
                      EDOC Medical Services
                    </div>
                    <div class="col-6 ">
                      Name: <strong>Dr. Name Title</strong><br>
                      Designation: <strong>xxxxxxx</strong><br>
                      Phone No: <strong>xxxxxxx</strong>
                    </div>

                  </div><hr>
                  <div class="row no-gutters text-left mt-1 mb-2 pl-5 pr-5" >
                    <div class="col-12 mx-auto my-auto">
                     <p ><pre id="summary-patient"></pre></p>
                    </div>
                  </div>
                  <hr>
                  <div class="row no-gutters text-left mt-1 mb-2" >
                    <div class="col-12 mx-auto my-auto">
                        <ol class="med-repo">
                          <h4>Medicines List</h4>

                        </ol>
                    </div>
                  </div>
                </div>
              </div>
              {% endif %}
<!--              Experiment-->
              <div id="prescribe">
                <div id="prescribeheader">Prescribe<button class="pres-close"><i class="fa fa-times" aria-hidden="true"></i></button></div>
                <textarea class="tinyarea" name="tiny" id="summary" cols="30" rows="10" placeholder="Prescribe here"></textarea>
                <div class="container-fluid pt-2 pb-3 med-add">
                  <div class="med-repo">

                    <div class="row no-gutters mt-1 mb-3">
                      <div class="col-md-4 col-sm-12 my-auto">
                        <input type="text" class="form-control medicine pushMed" placeholder="Enter Medicine Name">
                      </div>
                      <div class="col-md-4 col-sm-12 med-time">
                          M-<input type="checkbox" name="" class="M-medicine pushMed">&nbsp;&nbsp;
                          L-<input type="checkbox" name="" class="L-medicine pushMed">&nbsp;&nbsp;
                          S-<input type="checkbox" name="" class="S-medicine pushMed">&nbsp;&nbsp;
                          D-<input type="checkbox" name="" class="D-medicine pushMed">
                          <br>
                          <div class="custom-control custom-radio custom-control-inline">
                            <input type="radio" id="radio_id1" name="radio_id1" class="custom-control-input aftFood-medicine pushMed">
                            <label class="custom-control-label " for="radio_id1">Aft Food</label>
                          </div>
                          <div class="custom-control custom-radio custom-control-inline">
                            <input type="radio" id="radio_id2" name="radio_id2" class="custom-control-input befFood-medicine pushMed">
                            <label class="custom-control-label " for="radio_id2">Bef Food</label>
                          </div>
                      </div>
                      <div class="col-6 col-md-2 col-sm-6 my-auto">
                        <input type="text" class="form-control quantity-medicine pushMed" placeholder="Quantity">
                      </div>
                      <div class="col-6 col-md-2 col-sm-6 col-xs-3 my-auto">
                        <input type="text" class="form-control period-medicine pushMed" placeholder="Period">
                      </div>
                      <div class="col-md-12 col-sm-12 my-auto">
                        <input type="text" class="form-control remark-medicine pushMed" placeholder="Remark">
                      </div>
                    </div>
                  </div>
                  <button id="add-more-med" type="button" class="btn btn-secondary btn-sm btn-block">Add More</button>
                  <button id="prescribe-submit" type="button" class="btn btn-primary btn-sm btn-block">Prescribe</button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </header>
    </div>
  </div>
  <!-- Optional JavaScript -->
  <!-- jQuery first, then Popper.js, then Bootstrap JS -->
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
    integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous">
  </script>
 <script src="https://code.jquery.com/ui/1.10.3/jquery-ui.js"></script>
 <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui-touch-punch/0.2.3/jquery.ui.touch-punch.min.js"integrity="sha512-0bEtK0USNd96MnO4XhH8jhv3nyRF0eK87pJke6pkYf3cM0uDIhNJy9ltuzqgypoIFXw3JSuiy04tVk4AjpZdZw=="crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
    integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous">
  </script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
    integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous">
  </script>
  <script>
    //local video
    var radio_id = 1;
    document.getElementById("localVideo").style["float"] = "right";
    document.getElementById("prescribe").style["float"] = "right";
    $(function () {
      if(window.matchMedia("(min-width: 767px)").matches){
        $("#prescribe").draggable();
        $("#prescribe-patient").draggable();
      }

      $("#localVideo").draggable();
    });
    $("#add-more-med").click(function () {
      radio_id++;
      $(".med-repo").append('<div class="row no-gutters mt-1 mb-1"><div class="col-md-4 col-sm-12 my-auto"><input type="text" class="form-control medicine pushMed" placeholder="Enter Medicine Name"></div><div class="col-md-4 col-sm-12">M-<input type="checkbox" name="" id="" class="M-medicine pushMed">&nbsp;&nbsp; L-<input type="checkbox" name="" id="" class="L-medicine pushMed">&nbsp;&nbsp;S-<input type="checkbox" name="" id="" class="S-medicine pushMed">&nbsp;&nbsp; D-<input type="checkbox" name="" id="" class="D-medicine pushMed"><br><div class="custom-control custom-radio custom-control-inline"><input type="radio" id="aftFood'+radio_id+'" name="aftFood'+radio_id+'" class="custom-control-input aftFood-medicine pushMed"><label class="custom-control-label" for="aftFood'+radio_id+'">Aft Food</label></div><div class="custom-control custom-radio custom-control-inline"><input type="radio" id="befFood'+radio_id+'" name="befFood'+radio_id+'" class="custom-control-input befFood-medicine pushMed"><label class="custom-control-label" for="befFood'+radio_id+'">Bef Food</label></div></div><div class="col-6 col-md-2 col-sm-6 my-auto"><input type="text" class="form-control quantity-medicine pushMed" placeholder="Quantity"></div><div class="col-6 col-md-2 col-sm-6 col-xs-3 my-auto"><input type="text" class="form-control period-medicine pushMed" placeholder="Period"></div><div class="col-md-12 col-sm-12 my-auto"><input type="text" class="form-control remark-medicine pushMed" placeholder="Remark"></div></div>');
      $('.med-repo').scrollTop($('.med-repo')[0].scrollHeight);
    });
    $("#presc-btn").click(function () {
      $("#prescribe").show();
    });
    $(".pres-close").click(function () {
      $("#prescribe").hide();
    });
    $("#presc-btn-patient").click(function () {
      $("#prescribe-patient").show();
    });
    $(".pres-close-patient").click(function () {
      $("#prescribe-patient").hide();
    });
  </script>
  <script>

  </script>
<script src="https://www.gstatic.com/firebasejs/3.1.0/firebase.js"></script>

<!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->

<script>
  var doctor = '{{doctor}}';
</script>
<script src="{% static 'script.js' %}"></script>

</body>

</html>
